<div *ngIf="(searchResults$ | async) as searchResults" class="mt-3">
  <div *ngIf="showFilterBox" class="form-group has-search float-right filter-box">
    <span class="fas fa-filter form-control-feedback"></span>
    <input type="search" [(ngModel)]="filterText" class="form-control" placeholder="Filter...">
  </div>
  <div class="clear"></div>
  <div class="mt-3" *ngFor="let searchResult of searchResults | bookmarkFilter: filterText">

    <app-bookmark-list-element *ngIf="isBookmark(searchResult) else showSnippet"
      [bookmark]="searchResult"
      [userData$]="userData$"
      [queryText]="queryText"
      [filterText]="filterText"
      [isSearchResultsPage]="isSearchResultsPage"
    >
    </app-bookmark-list-element>
    <ng-template  #showSnippet>
      <app-snippet-details
        [snippet$]="of(searchResult)"
        [queryText]="queryText"
        [inlist]="true"
      ></app-snippet-details>
    </ng-template>

  </div>

  <nav *ngIf="showPagination && searchResults" aria-label="Pagination navigation bar">
    <div *ngIf="currentPage !== 1 && searchResults.length === 0; else showPaginationBar"
         class="tabs-headline-message alert alert-info"
         style="margin-top: 2rem; font-size: 1.2rem">
      No results left for the selected criteria - go back to
      <button type="button" class="btn btn-primary btn-sm" (click)="navigate(currentPage-1)">Previous</button>
      pages.
    </div>
    <ng-template #showPaginationBar>
      <ul class="pagination justify-content-center" style="cursor: pointer;">
        <li class="page-item">
          <span class="page-link shadow-sm" (click)="navigate(currentPage - 1)"
                [ngClass]="{'isDisabled': currentPage === 1}">Previous</span>
        </li>
        <li *ngFor="let page of Arr.from(Arr(currentPage).keys());  let i = index;" class="page-item"
            [ngClass]="{'active': currentPage === page + 1}">
          <span class="page-link shadow-sm" (click)="navigate(page + 1)">{{page + 1}}</span>
        </li>
        <li class="page-item">
          <span class="page-link shadow-sm" (click)="navigate(currentPage + 1)"
                [ngClass]="{'isDisabled': searchResults.length < paginationSize}">Next</span>
        </li>
      </ul>
    </ng-template>
  </nav>
</div>




